<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>価格比較</title>
    <style>
        body {
            font-family: sans-serif;
            background-color: #f0f0f0; /* 外側の背景は薄いグレーのまま */
            padding: 1em;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }
        .container {
            max-width: 400px;
            width: 100%;
            background-color: #fff; /* 囲み部分を白に */
            border: 1px solid #000; /* 黒色の細い枠線 */
            border-radius: 0.8em;
            box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.1);
            padding: 1em;
        }
        h1 {
            font-size: 1.3em;
            margin-bottom: 0.8em;
            text-align: center;
            color: #333;
        }
        .section {
            padding: 0;
        }
        .item {
            background-color: #fff; /* 通常時も白色 */
            margin-bottom: 0.8em;
            padding: 0.8em;
            border: 1px solid #000; /* 黒色の細い枠線を追加 */
            border-radius: 0.5em;
        }
        .input-group {
            display: flex;
            align-items: center;
            gap: 0.5em;
            margin-top: 0.3em;
        }
        label {
            font-size: 0.9em;
            color: #555;
            display: block;
            margin-bottom: 0.3em;
        }
        input[type="number"] {
            width: 40%;
            padding: 0.5em;
            font-size: 0.9em;
            text-align: right;
            border: 1px solid #ccc;
            border-radius: 0.3em;
        }
        .result-container {
            display: flex;
            align-items: center;
            margin-top: 0.5em;
            font-size: 0.9em;
            color: #000;
        }
        .triangle {
            color: #28a745;
            font-size: 1em;
            margin-right: 0.3em;
        }
        .result {
            font-weight: bold;
            min-width: 6em;
            text-align: left;
            color: #000;
        }
        .highlight {
            background-color: rgb(255, 230, 0); /* 黄色 */
            color: #333;
        }
        .recommendation {
            background-color: #fff; /* 通常時は白背景 */
            color: #333; /* 通常時は黒に近いグレー */
            padding: 0.8em;
            text-align: center;
            border-radius: 0.5em;
            margin-top: 0.8em;
            margin-bottom: 0.8em;
            font-size: 0.9em;
            border: 1px solid #000; /* 黒色の細い枠線を追加 */
            font-weight: normal; /* ボールドを解除 */
        }
        .recommendation.advantage { /* お得な場合 */
            background-color: #28a745; /* 緑背景 */
            color: #fff; /* 白文字 */
            border: 1px solid #28a745; /* 緑色の枠線 */
        }
        .recommendation.even { /* どちらも同じくらいお得な場合 */
            background-color: #28a745; /* 緑背景 */
            color: #fff; /* 白文字 */
            border: 1px solid #28a745; /* 緑色の枠線 */
        }
        .controls {
            margin-top: 1em;
            text-align: center;
        }
        button {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 0.6em 1.2em;
            border-radius: 0.5em;
            font-size: 0.9em;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 0.8em;
        }
        button:hover {
            background-color: #1e7136;
        }
        .price-one {
            color: black !important;
        }

        @media (max-width: 480px) {
            .container {
                padding: 0.8em;
                border-radius: 0.5em;
                border: 1px solid #000; /* スマホ表示でも枠線 */
            }
            h1 {
                font-size: 1em;
                margin-bottom: 0.4em;
                text-align: center;
            }
            .item {
                padding: 0.4em;
                margin-bottom: 0.4em;
                border: 1px solid #000;
            }
            label {
                font-size: 0.8em;
                margin-bottom: 0.1em;
                display: inline-block;
                width: 30%;
                text-align: left;
            }
            .input-group {
                flex-direction: row;
                align-items: center;
                gap: 0.2em;
                margin-top: 0em;
            }
            input[type="number"] {
                font-size: 0.8em;
                padding: 0.3em;
                width: 30%;
                margin-top: 0em;
                text-align: right;
            }
            .result-container {
                font-size: 0.8em;
                margin-top: 0.3em;
                margin-bottom: 0em;
            }
            .triangle {
                font-size: 0.9em;
                margin-right: 0.2em;
            }
            .recommendation {
                padding: 0.4em;
                margin-top: 0.4em;
                margin-bottom: 0.4em;
                font-size: 0.8em;
                border: 1px solid #000;
                font-weight: normal;
            }
            .recommendation.advantage {
                background-color: #28a745;
                color: #fff;
                border: 1px solid #28a745;
            }
            .recommendation.even {
                background-color: #28a745;
                color: #fff;
                border: 1px solid #28a745;
            }
            button {
                font-size: 0.8em;
                padding: 0.4em 0.8em;
                border-radius: 0.3em;
                margin-top: 0.4em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>価格比較</h1>
        <div class="section">
            <div id="itemA" class="item">
                <label for="weightA">商品A：</label>
                <div class="input-group">
                    <input id="weightA" type="number" placeholder="重さ" /> g
                    <input id="priceA" type="number" placeholder="価格" /> 円
                </div>
                <div class="result-container">
                    <span class="triangle">▶</span><span id="resultA" class="result">-- 円/g</span>
                </div>
            </div>
        </div>

        <div class="section">
            <div id="itemB" class="item">
                <label for="weightB">商品B：</label>
                <div class="input-group">
                    <input id="weightB" type="number" placeholder="重さ" /> g
                    <input id="priceB" type="number" placeholder="価格" /> 円
                </div>
                <div class="result-container">
                    <span class="triangle">▶</span><span id="resultB" class="result">-- 円/g</span>
                </div>
            </div>
        </div>

        <div id="recommendation" class="recommendation">
            どちらの商品がお得か比較します。
        </div>

        <div class="controls">
            <button onclick="resetFields()">リセット</button>
        </div>
    </div>

    <script>
        const weightA = document.getElementById("weightA");
        const priceA = document.getElementById("priceA");
        const resultA = document.getElementById("resultA");
        const itemA = document.getElementById("itemA");

        const weightB = document.getElementById("weightB");
        const priceB = document.getElementById("priceB");
        const resultB = document.getElementById("resultB");
        const itemB = document.getElementById("itemB");

        const recommendation = document.getElementById("recommendation");

        function calculate() {
            const wA = parseFloat(weightA.value);
            const pA = parseFloat(priceA.value);
            const wB = parseFloat(weightB.value);
            const pB = parseFloat(priceB.value);

            let unitA = wA && pA ? pA / wA : null;
            let unitB = wB && pB ? pB / wB : null;

            resultA.textContent = unitA ? unitA.toFixed(2) + " 円/g" : "-- 円/g";
            resultB.textContent = unitB ? unitB.toFixed(2) + " 円/g" : "-- 円/g";

            // 1.00 円/g の場合に文字色を黒にする処理
            if (unitA && unitA.toFixed(2) === "1.00") {
                resultA.classList.add("price-one");
            } else {
                resultA.classList.remove("price-one");
            }

            if (unitB && unitB.toFixed(2) === "1.00") {
                resultB.classList.add("price-one");
            } else {
                resultB.classList.remove("price-one");
            }

            itemA.classList.remove("highlight");
            itemB.classList.remove("highlight");
            recommendation.classList.remove("advantage");
            recommendation.classList.remove("even");

            if (unitA && unitB) {
                if (unitA < unitB) {
                    itemA.classList.add("highlight");
                    recommendation.textContent = "商品Aがお得！";
                    recommendation.classList.add("advantage");
                } else if (unitB < unitA) {
                    itemB.classList.add("highlight");
                    recommendation.textContent = "商品Bがお得！";
                    recommendation.classList.add("advantage");
                } else {
                    recommendation.textContent = "どちらも同じくらいお得です。";
                    recommendation.classList.add("even");
                }
            } else if (unitA && !unitB) {
                recommendation.textContent = "どちらの商品がお得か比較します。";
            } else if (!unitA && unitB) {
                recommendation.textContent = "どちらの商品がお得か比較します。";
            } else {
                recommendation.textContent = "どちらの商品がお得か比較します。"; // 初期メッセージを維持
            }
        }

        function resetFields() {
            weightA.value = "";
            priceA.value = "";
            resultA.textContent = "-- 円/g";
            resultA.classList.remove("price-one");
            itemA.classList.remove("highlight");

            weightB.value = "";
            priceB.value = "";
            resultB.textContent = "-- 円/g";
            resultB.classList.remove("price-one");
            itemB.classList.remove("highlight");

            recommendation.textContent = "どちらの商品がお得か比較します。"; // リセット時も初期メッセージ
            recommendation.classList.remove("advantage");
            recommendation.classList.remove("even");
        }

        weightA.addEventListener("input", calculate);
        priceA.addEventListener("input", calculate);
        weightB.addEventListener("input", calculate);
        priceB.addEventListener("input", calculate);
    </script>
</body>
</html>
